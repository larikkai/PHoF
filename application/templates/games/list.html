{% extends "layout.html" %}

{% block body %}

<table style="width:100%;">
  <tr>
    <th width="60%">GAME NAME</th>
    <th style="text-align:center" width="10%">TYPE</th>
    <th style="text-align:center" width="10%">RESULT</th>
    <th style="text-align:center" width="10%">PLAYERS</th>
    <th style="text-align:center" width="10%">FINISHED</th>
  </tr>
  {% for game in games %}
  <tr>
    <td>{{ game.name }}</td>
    <td style="text-align:center">{{ game.playerCount }} vs {{ game.playerCount }}</td>
    {% if game.done %}
    <td style="text-align:center">3:1</td>
    <td style="text-align:center">{{ game.playerCount }} / {{ game.playerCount }}</td>
    {% else %}
    <td></td>
    <td style="text-align:center"> 666 / {{ game.playerCount }}</td>
    {% endif %}
    <td style="text-align:center">{{ game.done }}</td>
    <td>
      <form method="GET" action="{{ url_for('games_view_game', game_id=game.id) }}">
        <input type="submit" value="View"/>
      </form>
    </td>
    <td>
      <form method="POST" action="{{ url_for('games_set_done', game_id=game.id) }}">
        <input type="submit" value="Change status!"/>
      </form>
    </td>
    <td>
      <form method="POST" action="{{ url_for('games_remove', game_id=game.id) }}">
        <input type="submit" value="Remove game"/>
      </form>
    </td>
    <td>
      <form method="POST" action="{{ url_for('games_join', game_id=game.id) }}">
        <input type="submit" value="Join"/>
      </form>
    </td>
  </tr>
  {% endfor %}
</table>

{% endblock %}